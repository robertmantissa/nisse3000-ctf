<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nisse 2000 - Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Nisse 2000 Dashboard</h1>
        
        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: center;">
            <p style="margin: 5px 0;">Inloggad som: <strong id="username">AnvÃ¤ndare</strong></p>
            <p style="margin: 5px 0;">
                BehÃ¶righet: <span id="roleDisplay" class="role-badge">LÃ¤ser in...</span>
            </p>
        </div>

        <div id="accessWarning" class="alert alert-info" style="display: none;">
            ğŸ’¡ <strong>Tips:</strong> Som nisse har du begrÃ¤nsad Ã¥tkomst. Kanske kan du hitta ett sÃ¤tt att fÃ¥ hÃ¶gre behÃ¶righet? Kolla URL:en... ğŸ¤”
        </div>

        <h2>ğŸ„ Systemfunktioner</h2>
        
        <div class="dashboard-grid">
            <a href="#" onclick="checkAccess('snalla-barn')" class="dashboard-btn icon-list">
                SnÃ¤lla barn-listan
            </a>
            
            <a href="presentinventering.html" class="dashboard-btn icon-gifts">
                Presentinventering
            </a>
            
            <a href="schema.html" class="dashboard-btn icon-schedule">
                Nisse-schema
            </a>
            
            <a href="ren-status.html" class="dashboard-btn icon-reindeer">
                Ren-status
            </a>
            
            <a href="onskelista.html" class="dashboard-btn icon-wishlist">
                Ã–nskeliste-centralen
            </a>
            
            <a href="#" onclick="checkAccess('loggar')" class="dashboard-btn icon-logs">
                Systemloggar
            </a>
        </div>

        <div style="margin-top: 30px; padding: 15px; background: #fff3cd; border-radius: 8px;">
            <p><strong>ğŸ¯ NivÃ¥ 2: URL-manipulation</strong></p>
            <p>Vissa sidor krÃ¤ver hÃ¶gre behÃ¶righet. Titta pÃ¥ URL:en - ser du parametern <code>role=nisse</code>? ğŸ¤”</p>
            <p>Kanske finns det andra roller i systemet? Testa att Ã¤ndra den till nÃ¥got annat...</p>
        </div>

        <div style="margin-top: 20px; text-align: center;">
            <a href="login.html" style="color: #c41e3a; text-decoration: none;">ğŸšª Logga ut</a>
        </div>
    </div>

    <script>
        // LÃ¤s role frÃ¥n URL
        const urlParams = new URLSearchParams(window.location.search);
        let currentRole = urlParams.get('role') || 'nisse';

        // Uppdatera display
        function updateRoleDisplay() {
            const roleDisplay = document.getElementById('roleDisplay');
            const accessWarning = document.getElementById('accessWarning');
            
            if (currentRole === 'nisse') {
                roleDisplay.textContent = 'ğŸ… Nisse (BegrÃ¤nsad Ã¥tkomst)';
                roleDisplay.className = 'role-badge role-nisse';
                accessWarning.style.display = 'block';
            } else if (currentRole === 'tomte') {
                roleDisplay.textContent = 'ğŸ„ Tomte (UtÃ¶kad Ã¥tkomst)';
                roleDisplay.className = 'role-badge role-tomte';
                accessWarning.style.display = 'none';
            } else if (currentRole === 'admin') {
                roleDisplay.textContent = 'â­ Admin (Full Ã¥tkomst)';
                roleDisplay.className = 'role-badge role-admin';
                accessWarning.style.display = 'none';
            } else {
                roleDisplay.textContent = 'â“ ' + currentRole + ' (OkÃ¤nd roll)';
                roleDisplay.className = 'role-badge';
                accessWarning.style.display = 'none';
            }
        }

        function checkAccess(page) {
            if (page === 'snalla-barn') {
                if (currentRole === 'tomte' || currentRole === 'admin') {
                    window.location.href = 'snalla-barn.html?role=' + currentRole;
                } else {
                    alert('âŒ Ã…tkomst nekad!\n\nDu behÃ¶ver minst "tomte"-behÃ¶righet fÃ¶r att se denna sida.\n\nğŸ’¡ Hint: Kan du Ã¤ndra din roll i URL:en?');
                }
            } else if (page === 'loggar') {
                if (currentRole === 'admin') {
                    window.location.href = 'loggar.html?role=' + currentRole;
                } else if (currentRole === 'tomte') {
                    alert('âŒ Ã…tkomst nekad!\n\nSystemloggar krÃ¤ver "admin"-behÃ¶righet.\n\nğŸ’¡ Hint: Du Ã¤r nÃ¤ra! Finns det en hÃ¶gre roll Ã¤n tomte?');
                } else {
                    alert('âŒ Ã…tkomst nekad!\n\nDu behÃ¶ver hÃ¶gre behÃ¶righet fÃ¶r att se systemloggar.\n\nğŸ’¡ Hint: FÃ¶rsÃ¶k fÃ¶rst att fÃ¥ "tomte"-behÃ¶righet genom att Ã¤ndra URL:en.');
                }
            }
        }

        // KÃ¶r nÃ¤r sidan laddas
        updateRoleDisplay();
    </script>
</body>
</html>
