<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Start</title>
    <style>
        body { margin:0; font-family:system-ui,Segoe UI,Roboto,sans-serif; background:#000; color:#d2f8d2; overflow:hidden; }
        canvas#matrix { position:fixed; inset:0; width:100%; height:100%; z-index:0; background:#000; }
        .wrap { position:relative; z-index:2; max-width:760px; margin:0 auto; padding:52px 28px 90px; }
        h1 { margin:0 0 16px; font-size:2.1rem; letter-spacing:1px; font-weight:600; color:#51ff51; text-shadow:0 0 8px rgba(81,255,81,0.5); }
        p { line-height:1.55; }
        .panel, .team-box { background:rgba(0,20,0,0.6); backdrop-filter:blur(4px); border:1px solid #0f3d0f; border-radius:12px; padding:24px 26px; box-shadow:0 0 0 1px #0f3d0f, 0 0 18px -4px rgba(81,255,81,0.35); }
        .panel { margin-bottom:30px; }
        .badge { display:inline-block; background:#c41e3a; color:#fff; padding:4px 10px; font-size:.7rem; border-radius:6px; letter-spacing:.5px; margin-left:8px; }
        .team-box { margin:12px 0 42px; }
        .team-row { display:flex; gap:12px; flex-wrap:wrap; margin-top:14px; }
        input { flex:1 1 240px; background:#041e04; border:1px solid #114d11; color:#b9ffb9; padding:12px 14px; border-radius:8px; font-size:.95rem; font-family:monospace; }
        input::placeholder { color:#397f39; }
        input:focus { outline:2px solid #27a727; box-shadow:0 0 8px #27a727; }
        button { cursor:pointer; background:#168a16; border:none; color:#e4ffe4; padding:12px 22px; border-radius:8px; font-size:.85rem; font-weight:600; letter-spacing:.5px; font-family:monospace; transition:.25s; box-shadow:0 0 0 1px #168a16, 0 0 14px -4px rgba(81,255,81,0.4); }
        button:hover { background:#27a727; }
        .status { margin-top:8px; font-size:.7rem; letter-spacing:.5px; font-family:monospace; color:#51ff51; }
        .go { text-align:center; margin-top:42px; }
        .go a { display:inline-block; background:#0f4d8a; color:#d6ecff; padding:16px 38px; border-radius:10px; font-size:1rem; text-decoration:none; font-weight:600; letter-spacing:.5px; font-family:monospace; box-shadow:0 0 0 1px #0f4d8a, 0 0 18px -6px rgba(15,77,138,0.6); }
        .go a:hover { background:#156bbd; }
        small { color:#5a6d5a; font-size:.65rem; letter-spacing:.5px; font-family:monospace; }
        code { background:#041e04; padding:2px 6px; border-radius:6px; font-size:.7rem; color:#51ff51; }
        @media (max-width:720px){ .wrap { padding:42px 20px 70px; } h1 { font-size:1.8rem; } }
    </style>
</head>
<body>
    <canvas id="matrix" aria-hidden="true"></canvas>
    <div class="wrap">
        <h1>Status: OLYDIG <span class="badge">‚ùå</span></h1>
        <div class="panel">
            <p>Din chef Ola har rapporterat dig f√∂r f√∂r m√•nga sena tidrapporter. Du √§r markerad som OLYDIG.</p>
            <p>Ditt uppdrag: Hacka Tomtens system <strong>"Nisse 3000"</strong> s√• att du f√•r n√•gra julklappar i √•r.</p>
            <p>K√∂r du fast finns det hj√§lp att f√• via dessa knappar:  <button class="btn btn-warning" onclick="showHint(1)">üí° Hint</button></p>
        </div>
        <div class="team-box">
            <strong>Lag / ledarnamn</strong>
            <div class="team-row">
                <input id="teamNameInput" type="text" minlength="2" placeholder="Ex: TeamRudolf" autocomplete="off" />
                <button id="saveTeamNameBtn" type="button">Spara</button>
            </div>
            <div id="teamNameStatus" class="status"></div>
        </div>
        <div class="go">
            <a href="login.html">G√• till inloggning ‚Üí</a>
            <div style="margin-top:14px;"><small>Allt sparas lokalt i din browser.</small></div>
        </div>
    </div>
    <script>
        // Matrix background
        (function matrix(){
            const canvas = document.getElementById('matrix');
            const ctx = canvas.getContext('2d');
            let w, h, cols, drops;
            const glyphs = '01√òŒõ+=*#$@Áî∞ÂÜñËâπÂçúÂúü*'.split('');
            function resize(){
                w = canvas.width = window.innerWidth;
                h = canvas.height = window.innerHeight;
                cols = Math.floor(w / 14);
                drops = Array(cols).fill(0);
            }
            function draw(){
                ctx.fillStyle = 'rgba(0,0,0,0.12)';
                ctx.fillRect(0,0,w,h);
                ctx.font = '14px monospace';
                for(let i=0;i<cols;i++){
                    const txt = glyphs[Math.floor(Math.random()*glyphs.length)];
                    const x = i * 14;
                    const y = drops[i] * 18;
                    ctx.fillStyle = 'hsl(' + (110 + Math.random()*40) + ' 80% 55%)';
                    ctx.fillText(txt, x, y);
                    if (y > h && Math.random() > 0.965) { drops[i] = 0; } else { drops[i]++; }
                }
                requestAnimationFrame(draw);
            }
            window.addEventListener('resize', resize);
            resize();
            draw();
        })();

        (function(){
            const input = document.getElementById('teamNameInput');
            const statusEl = document.getElementById('teamNameStatus');
            const btn = document.getElementById('saveTeamNameBtn');
            function setMsg(msg, ok){ if(!statusEl) return; statusEl.textContent = msg; statusEl.style.color = ok? '#0f8a5f':'#c41e3a'; }
            function load(){
                let existing='';
                try { existing=(localStorage.getItem('teamName')||'').trim(); } catch(e){}
                if(existing){ input.value=existing; setMsg('Aktuellt namn: '+existing,true); }
            }
            function save(){
                const v=(input.value||'').trim();
                if(v.length<2){ setMsg('Minst 2 tecken.', false); return; }
                try { localStorage.setItem('teamName', v); } catch(e){}
                setMsg('Sparat: '+v, true);
            }
            if(btn) btn.addEventListener('click', save);
            if(input) input.addEventListener('keydown', e=>{ if(e.key==='Enter') save(); });
            load();
        })();
    </script>
</body>
</html>
