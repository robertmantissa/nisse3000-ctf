<!--
Okej dÃ¥, du rundade vÃ¥rt  Nisse grade kÃ¤llkodsskydd. Grattis!
S09OQU1JIA==
-->
<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nisse 3000 - Inloggning</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Nisse 3000 Inloggning</h1>
        
        <div style="background: #f8d7da; padding: 15px; border-radius: 8px; margin: 20px 0; border: 2px solid #c41e3a;">
            <p style="text-align: center; color: #721c24;">
                ğŸ”’ <strong>SÃ„KERT SYSTEM</strong> ğŸ”’<br>
                Endast auktoriserade nissar eller administratÃ¶rer fÃ¥r logga in hÃ¤r.
            </p>
        </div>

        <!-- Felmeddelande modal -->
        <div id="errorModal" style="display:none; position: fixed; inset:0; background: rgba(0,0,0,0.45); z-index:1100;">
            <div style="background:#ffffff; max-width:480px; margin:15vh auto; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.35); overflow:hidden;">
                <div style="background:#f8d7da; color:#721c24; padding:14px 18px; border-bottom:1px solid #f5c6cb; display:flex; align-items:center; justify-content:space-between;">
                    <strong>âŒ Fel</strong>
                    <button id="errorCloseBtn" class="btn btn-secondary" style="background:#eee; color:#333; border:1px solid #ccc;">StÃ¤ng</button>
                </div>
                <div style="padding:20px; color:#333;">
                    <p id="errorModalText" style="margin:0; line-height:1.4;">Fel uppstod.</p>
                </div>
            </div>
        </div>

        <form id="loginForm" onsubmit="return handleLogin(event)">
            <div class="form-group">
                <label for="username">AnvÃ¤ndarnamn:</label>
                <input type="text" id="username" name="username" placeholder="VÃ¤lj eller skriv anvÃ¤ndarnamn" list="usernames" required>
                <datalist id="usernames">
                    <option value="nisse"></option>
                    <option value="tomten"></option>
                </datalist>
            </div>

            <div class="form-group">
                <label for="password">LÃ¶senord:</label>
                <input type="password" id="password" name="password" placeholder="Ange lÃ¶senord" required>
            </div>

            <div class="center">
                <button type="submit" class="btn btn-primary">ğŸ„ Logga in ğŸ„</button>
            </div>
        </form>

        <div class="center" style="margin-top: 20px;">
            <button class="btn btn-warning" onclick="showHint(1)">ğŸ’¡ Hint 1</button>
            <button class="btn btn-warning" onclick="showHint(2)" id="hint2btn" style="display: none;">ğŸ’¡ Hint 2</button>
        </div>

        <div id="hint1" class="hint-box">
            <strong>ğŸ’¡ Hint 1:</strong><br>
            LÃ¤ngst fram<br>
        </div>

        <div id="hint2" class="hint-box">
            <strong>ğŸ’¡ Hint 2:</strong><br>
             Att anvÃ¤nda sitt husdjurs namn som lÃ¶senord Ã¤r en klassiker. Alla behÃ¶ver vi nÃ¥gon som lyser upp ens tillvaro<br>            
        </div>

        <!-- Modal popup for Tomten warning -->
        <div id="tomtenModal" style="display:none; position: fixed; inset: 0; background: rgba(0,0,0,0.5); backdrop-filter: blur(1px); z-index: 1000;">
            <div style="background: #fff; max-width: 560px; margin: 10vh auto; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.25); overflow: hidden;">
                <div style="padding: 16px 20px; background: #fff3cd; color: #664d03; border-bottom: 1px solid #ffe69c; display:flex; align-items:center; justify-content:space-between;">
                    <strong>âš ï¸ Tomten-sÃ¤kerhetsvarning</strong>
                    <button id="tomtenCloseBtn" class="btn btn-secondary" style="background:#eee; color:#333; border:1px solid #ccc;">StÃ¤ng</button>
                </div>
                <div style="padding: 20px; color: #333;">
                    <p><strong>TOMTENS INLOGGNING Ã„R BLOCKERAD</strong></p>
                    <p>GPS-position: != nordpolen</p>
                    <p>Tomtens skÃ¤gg: inte ISO 270001-certifierat</p>
                    <p>Inloggningen, avstÃ¤ngd fram till pÃ¥sk + lite till</p>
                    <p style="margin-top:12px;">
                        ğŸ’¡ Hint: Du kommer inte kunna logga in som tomten. Du behÃ¶ver komma Ã¥t hans konto Ã¤ndÃ¥.
                    </p>
                </div>
            </div>
        </div>

        <div style="margin-top: 30px; padding: 15px; background: #e8f5e9; border-radius: 8px; border-left: 5px solid #0f8a5f;">
            <p><strong>ğŸ¯ NivÃ¥ 1: Svagt lÃ¶senord</strong></p>
            <p>MÃ¥nga system har svaga lÃ¶senord. Vad kan Nisse ha fÃ¶r lÃ¶senord? ğŸ¤”</p>
        </div>

        <div style="margin-top: 20px; text-align: center;">
            <a href="index.html" style="color: #0f8a5f; text-decoration: none;">â† Tillbaka till start</a>
            <a id="_hbtn" href="admin.html" style="display:none; margin-left:12px; color:#c41e3a; text-decoration:none;">Admin</a>
        </div>
    </div>

    <script>
        /*
         â›” Do not modify. Proprietary Nisse 3000 Client Module v13.37
         Hash: 0xDEADC0DE â€” Build Channel: sleigh-prod â€” Signed: ğŸ¦Œ
         Fun fact: The flag is definitely not here: ZmxhZ19pc19ub3RfX2luX3RoaXNfZmlsZQ==
        */
        (function(){
            function X(s){ try { return decodeURIComponent(escape(window.atob(s))); } catch(e){ return ''; } }
            function B(s){ try { return window.atob(s); } catch(e){ return ''; } }
            function H(s){ try { return s.replace(/../g, h=>String.fromCharCode(parseInt(h,16))); } catch(e){ return ''; } }
            function E(fnStr){ return (new Function(fnStr))(); }
            const K = {
                a: 'aWxlZ2l0', 
                b: 'YXN2cwogNjMuMy4y', 
                c: '7368616b65', 
                d: '727564b2b66c66', 
                e: 'cnVkb2xm', 
                f: 'ZGJvYXJk', 
                g: 'ZGFzaGJvYXJkLmh0bWw/cm9sZT0=', 
                h: 'YWRtaW4=', 
                i: 'dG9tdGVu', 
                j: 'bmlzc2U=', 
                m: 'QW5pbWF0aW9u',
                n: 'ZXJyb3I=', 
                o: 'bG9naW5Gb3Jt',
                p: 'dXNlcm5hbWU=',
                q: 'cGFzc3dvcmQ=',
                r: 'aGludDE=',
                s: 'aGludDI=',
                t: 'dG9tdGVuTW9kYWw=',
                u: 'ZXJyb3JNb2RhbA==',
                v: 'ZXJyb3JNb2RhbFRleHQ=',
                w: 'c2hha2U=',
                x: 'QVNWUzo', 
                y: 'Ni4zLjI=',
            };

            // Inget att se hÃ¤r, gÃ¥ vidare
            window.__NisseSleighCfg = {
                reindeers: B('W1wiUnVkb2xmXCIsXCJDb21ldFwiLFwiQmxpdHplblwiLFwiRHJhc2VocmFwcG9uXCJd'),
                fuel: H('3432363837'), // 42687 (lol)
                sparkles: B('dHJ1ZQ=='),
                signature: 'ğŸ¦ŒğŸ›·ğŸ„'
            };

            let Z=0; // hintsShown
            function S(h){
                if(h===1){ document.getElementById(X(K.r)).classList.add('visible');
                    document.getElementById('hint2btn').style.display='inline-block'; Z=1;
                } else if(h===2){ document.getElementById(X(K.s)).classList.add('visible'); Z=2; }
            }

            function F(m){
                const M=document.getElementById(X(K.u));
                const T=document.getElementById(X(K.v));
                if(T) T.textContent=m;
                if(M) M.style.display='block';
                const form=document.getElementById(X(K.o));
                if(form){
                    form.style.animation = H(K.c)+ ' 0.5s';
                    setTimeout(()=>{ form.style.animation=''; },500);
                }
            }

            function L(evt){
                evt.preventDefault();
                const U=(document.getElementById(X(K.p)).value||'').trim();
                const P=(document.getElementById(X(K.q)).value||'').trim();
                const T=document.getElementById(X(K.t));
                const u=U.toLowerCase();

                if(u===X(K.h)) { F(X(K.x)+X(K.y)); return false; }
                if(u===X(K.i)) { if(T) T.style.display='block'; return false; }
                const A=[X(K.j),X(K.i)];
                if(!A.includes(u)){
                    F('Konto "'+U+'" finns inte i systemet.');
                    if(Z===0){ setTimeout(()=>{ S(1); },800); }
                    return false;
                }
                if(P.toLowerCase()===X(K.e)){
                    const R=X('Y3Rv'); // 'cto' decoy
                    const N=X(K.j); // 'nisse'
                    // choose target role (misleading decoy path)
                    const TGT = N; // yes, still nisse
                    window.location.href = X(K.g) + TGT;
                    return false;
                } else { F('Fel lÃ¶senord! FÃ¶rsÃ¶k igen.'); return false; }
            }

            window.showHint = S;
            window.handleLogin = L;
            window.showError = F;

            // modal close setup (minified-ish)
            (function(){
                const t=document.getElementById(X(K.t));
                const tb=document.getElementById('tomtenCloseBtn');
                if(t){ const h=()=>{ t.style.display='none'; }; if(tb) tb.addEventListener('click',h); t.addEventListener('click',e=>{ if(e.target===t) h(); }); }
                const e=document.getElementById(X(K.u));
                const eb=document.getElementById('errorCloseBtn');
                if(e){ const h=()=>{ e.style.display='none'; }; if(eb) eb.addEventListener('click',h); e.addEventListener('click',ev=>{ if(ev.target===e) h(); }); }
            })();

            // Add shake keyframes dynamically
            const st=document.createElement('style');
            st.textContent='@keyframes '+H(K.c)+'{0%,100%{transform:translateX(0)}25%{transform:translateX(-10px)}75%{transform:translateX(10px)}}';
            document.head.appendChild(st);

            // Encrypted password list
            /*
             -----BEGIN NISSE LIST-----
             VHJvZGRlIGF0dCBkZXQgc2t1bGxlIHN05SBu5XQga3VsIGjkciBz5SBoYXIgbmkga29tbWl0IGZlbCwgZnVza3BlbGxlIQ==
             CHECKSUM: 7f5a2c1e-banana-83
             -----END NISSE LIST-----
            */

            // Hidden admin shortcut (Konami Code)
            (function(){
                const seq=['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'];
                let i=0; const btn=document.getElementById('_hbtn');
                document.addEventListener('keydown',e=>{
                    if(e.key.toLowerCase()===seq[i].toLowerCase()){ i++; } else { i=0; }
                    if(i===seq.length && btn){ btn.style.display='inline-block'; btn.textContent='ğŸ” Admin'; i=0; }
                },{capture:true});
            })();
        })();
    </script>
    <script>
        // Annoying right-click + shortcut blockers (CTF flavor)
        (function(){
            const baitMsg = 'ğŸ›¡ï¸ Secured by Nisse-grade kÃ¤llkodsskydd. 100 % hacker proof.';
            function blockContext(e){ e.preventDefault(); return false; }
            function blockMouse(e){
                if(e.button===2 || e.which===3){ alert(baitMsg); e.preventDefault(); return false; }
            }
            function blockKeys(e){
                const k=e.key.toLowerCase();
                const ctrl=e.ctrlKey||e.metaKey;
                const forbidden = (
                    (ctrl && (k==='u' || k==='s' || k==='p' || k==='i')) || // view-source, save, print, devtools
                    (k==='f12') ||
                    (ctrl && shiftKeyCheck(e) && (k==='i' || k==='j' || k==='c')) // devtools combos
                );
                if(forbidden){ alert(baitMsg); e.preventDefault(); return false; }
            }
            function shiftKeyCheck(e){ return e.shiftKey; }
            document.addEventListener('contextmenu', blockContext, { capture:true });
            document.addEventListener('mousedown', blockMouse, { capture:true });
            document.addEventListener('keydown', blockKeys, { capture:true });
            // Passive decoy overlay on long right-click hold
            let t; document.addEventListener('mousedown', (e)=>{ if(e.button===2){ t=setTimeout(()=>{
                const d=document.createElement('div'); d.style.cssText='position:fixed;inset:0;background:rgba(196,30,58,0.08);pointer-events:none;z-index:9999';
                d.textContent='ğŸ” Nej, ingen enkel vÃ¤g hÃ¤r.'; d.style.display='flex'; d.style.alignItems='center'; d.style.justifyContent='center'; d.style.color='#c41e3a'; d.style.fontFamily='monospace'; d.style.fontSize='14px';
                document.body.appendChild(d); setTimeout(()=>{ d.remove(); }, 1200);
            }, 380); } }, {capture:true});
            document.addEventListener('mouseup', ()=>{ clearTimeout(t); }, {capture:true});
        })();
    </script>
</body>
</html>
